<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>lab4</title>
	</head>
	
<body>
	<form action="index.html#kontakt" method="post" onsubmit="return checkForm();" >
		<fieldset>
				<legend>Formularz kontaktowy</legend>
				
				<label for="contactName">Imię</label>
				<input type="text" id="contactName"/>
			
				<label for="contactEmail">Email</label>
				<input type="text" id="contactEmail" />
				
				<br><label for="info">Informacja:</label><br>
				<textarea id="info" name="info" oninput="limitText(this, 250)" rows="4" cols="50"></textarea>
			<input type="submit" value="Wyślij" />
		</fieldset>
	</form> 
<script>
	function limitText(field, maxChars) {
            if (field.value.length > maxChars) {
                field.value = field.value.substring(0, maxChars);
            }
        }
		
	function checkForm(){
		var error=false; //to znaczy, że danych nie brakuje
		var errorText=""; //komunikat z błędem
		var contactName = document.getElementById("contactName");
		var contactEmail = document.getElementById("contactEmail");
		
	if (contactEmail.value == ""){
		errorText += "Email\n"
		error=true; }
	if (contactName.value == ""){
		errorText += "<p id=”errorName”>Podanie imienia jest wymagane!</p> "
		error=true; } 
	if (!error) return true; else{
		alert ("Nie wypełniłeś następujących pól:\n" + errorText);
		return true; } 
	if(contactEmail.value == ""){
		errorText += "email\n";
		error=true;
	} else {
		var email = contactEmail.value;
		var regex = /^[a-zA-Z0-9._-]+@([a-zA-Z0-9.-]+\.)+[a-zA-Z0-9.-]{2,4}$/;
	if(regex.test(email)==false) {
		errorText += "błędny email\n";
		error=true; }
	}	
		
		
		
		}

</script>





</body>
</html>